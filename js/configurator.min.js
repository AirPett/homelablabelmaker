$(function(){function u(a,c,b,g,h,e,k,f,d,m){diskSpeedDell=diskSpeedLabel="";c=void 0===c?$("#formFactor label.active").attr("for"):c;b=void 0===b?$("#interfaceType label.active").attr("for"):b;g=void 0===g?$("#interfaceSpeed label.active").attr("for"):g;h=void 0===h?$("#diskSpeed label.active").attr("for"):h;e=void 0===e?$("#diskType label.active").text().trim():e;k=void 0===k?x.val():k;f=void 0===f?n.val():f;d=void 0===d?"printOutTable":d;m=void 0===m?8:m;console.info("FF: "+c+" -- IF: "+b+" -- IFS: "+
g+" -- DSp: "+h+" -- DT: "+e+" -- DC: "+k+" -- DSe: "+h+" -- TT: "+d+" -- TN: "+m);"printOutTable"===d&&(console.log("WTF"),$("#printOutContainer").show(),$("#exampleContainer").hide());switch(g){case "SATA2/SAS":/SATA/.test(e)&&(diskSpeedLabel=diskSpeedLabel.concat("3G "));break;case "SATA3/SAS2":diskSpeedLabel=diskSpeedLabel.concat("6G ");break;case "SAS3":diskSpeedLabel=diskSpeedLabel.concat("12G ");break;case "SAS4":diskSpeedLabel=diskSpeedLabel.concat("22G ")}"dualPort"===b&&(diskSpeedLabel=
""===diskSpeedLabel?diskSpeedLabel.concat("Dual Port "):diskSpeedLabel.concat("DP "));h&&(diskSpeedLabel=diskSpeedLabel.concat(h),diskSpeedDell=diskSpeedDell.concat(h));/(SSD|SSNW)/i.test(e)&&(diskSpeedLabel="SATA SSD");switch(l){case "hp":console.info("Disk Speed HP Label : "+diskSpeedLabel);switch(c){case "SFF":labelString="<div class='hp SFF'><div class='speed'>{0}</div><div class='interface divider'>{1}</div><div class='capacity'>{2}</div><div class='serial'>{3}</div></div>".format(diskSpeedLabel,
e,k,f);break;case "LFF":labelString="<div class='hp LFF'><div class='speed'>{0}</div><div class='interface'>{1}</div><hr class='divider'/><div class='capacity'>{2}</div><div class='serial'>{3}</div></div>".format(diskSpeedLabel,e,k,f)}break;case "dell":switch(console.info("Disk Speed Dell Label : "+diskSpeedDell),c){case "SFF":labelString="<div class='dell SFF'><div class='interface'>{0}</div><div class='capacity speed'>{1} {2}</div></div>".format(e,k,diskSpeedDell);break;case "LFF":labelString="<div class='dell LFF'><div class='interface'>{0}</div><div class='capacity'>{1}</div><div class='speed'>{2}</div></div>".format(e,
k,diskSpeedDell)}}(0===$("#"+d+" tr").length||$("#"+d+" tr:last td").length>=m)&&$("#"+d+" tbody").append("<tr>");$("#"+d+" tbody tr:last").append("<td>"+labelString+"</td>");(0===$("#"+d+"tr").length||$("#"+d+" tr:last td").length>=m)&&$("#"+d+" tbody").append("</tr>");a=e;b=diskSpeedLabel;g=$("#"+d+" tbody tr td").last();diskSpeedObj=g.find(".speed");diskTypeObj=g.find(".interface");labelDivider=g.find(".divider");switch(!0){case /^SAS$/gi.test(a):labelDivider.addClass("hpPurple");break;case /^(SAS MDL|SATA|SATA MDL)$/gi.test(a):labelDivider.addClass("hpCyan");
break;case /^Fibre Channel$/gi.test(a):labelDivider.addClass("hpOrange");break;case /^SSD$/gi.test(a):labelDivider.addClass("hpWhite");break;case /SSNW/gi.test(a):labelDivider.addClass("hpSSNW")}/(DP|Dual|Dual Port)/.test(b)||(console.info("This is a non DP Disk ("+a+")"),diskSpeedObj.addClass("nonDP"));/SSD/.test(a)&&"dell"!==l&&diskTypeObj.text(String.fromCharCode(160));/SSD/i.test(e)&&"dell"===l&&"LFF"===c&&(console.info("Dell SSD Fix"),$("#"+d+" td .dell.LFF .speed").last().remove(),$("#"+d+" td .dell.LFF .capacity").last().css({"line-height":"0.8cm"}));
if(0<$("#multiplier").val()&&1!==p){c=$("#multiplier").val();$("#multiplier").val("");p=1;for(--c;0<c;c--)u();p=0}0===$("#addMore:checked").length&&$("#configuratorMain").modal("hide")}function B(){$("#btnPrintPage").show();$("#btnStartConfigurator").show();$("#exampleContainer").show();$("#instruction").show();$("#topContainer").show();$("footer").show();$("#printOutTable tbody").html("").parent().parent().hide();$(this)}function q(a){a.parent().find(".active").removeClass("active").addClass("wasActive");
a.addClass("disabled").attr("aria-disabled",!0).css("pointer-events","none")}function y(a,c){void 0!==c?(console.log("kurva anyad"),a.parent().find("[for='"+c+"']").addClass("active").removeClass("wasActive")):a.parent().find(".wasActive").addClass("active").removeClass("wasActive");a.removeClass("disabled").attr("aria-disabled",!1).css("pointer-events","auto")}function f(a,c){var b=a.parent().find("label[for='"+c+"']");b.addClass("disabled").attr("aria-disabled",!0).css("pointer-events","none");
b.hasClass("active")&&a.parent().find("label:not(.disabled)").first().click()}function v(a,c){a.parent().find("label[for='"+c+"']").removeClass("disabled").attr("aria-disabled",!1).css("pointer-events","auto")}function w(a,c){return a.parent().find("label[for='"+c+"']").hasClass("disabled")?!0:!1}function C(){$("#btnPrintPage").hide();$("#btnStartConfigurator").hide();$("#exampleContainer").hide();$("#instruction").hide();$("#btnRestartApp").hide();$("#topContainer").hide();$("footer").hide();setTimeout(function(){$("#btnRestartApp").show().click()},
100)}var l="hp",p=0;$("#disk_type");var x=$("#capacity"),n=$("#serial"),r=$("#configuratorMain #diskSpeed label"),z=$("#configuratorMain #diskType label"),A=$("#configuratorMain #interfaceType label"),b=$("#configuratorMain #interfaceSpeed label"),D=$("#configuratorMain #formFactor label"),t=[{object:r,defaultField:"7.2K"},{object:z,defaultField:"SATA"},{object:A,defaultField:"singlePort"},{object:b,defaultField:"SATA2/SAS"},{object:D,defaultField:"SFF"}];(function(){String.prototype.format||(String.prototype.format=
function(){var a=arguments;return this.replace(/{(\d+)}/g,function(c,b){return"undefined"!=typeof a[b]?a[b]:c})})})();(function(){$("#printOutContainer").hide();$("#configuratorMain").validator().on("submit",function(a){a.isDefaultPrevented()?($(this).validator("validate"),console.warn("Validation failed, the user should re-check the fileds before resubmitting")):u()});$("#addNewDisk").button().on("click",function(){$("#configuratorMain").submit()});$("#btnPrintPage").button().on("click",function(){C();
window.print()});$("#btnRestartApp").button().on("click",function(){B()});$("table#vendors img").click(function(a){$("#vendorPicker").modal("hide");console.info($(this).attr("id")+" Clicked!");l=$(this).attr("id");"dell"===l&&(q(A),q(b),n.attr("disabled",!0).removeAttr("required").attr("placeholder","Not Applicable").val(""),["SASMDL","SATAMDL","FC","SSNW"].forEach(function(a){f(z,a)}));$("#configuratorMain").modal("show");$("#configuratorMain").validator("validate")});$("#configuratorMain").on("hidden.bs.modal",
function(){for(field in t)q(t[field].object),y(t[field].object,t[field].defaultField);f(b,"SAS3");f(b,"SAS4");n.removeAttr("disabled").attr("required",!0).attr("placeholder","SPARE 123456-789").val("");$("#multiplier").val("");x.val("");n.val("");p=0});$("#diskType label").on("change",function(){var a=$("#diskType input:radio:checked").parent().text().trim();console.log(a);if(/SSD/gi.test(a))console.info("SSD is selected disable the disk speed option."),q(r);else{var c;c=r.hasClass("disabled")?!0:
!1;c&&y(r)}/SAS/gi.test(a)?(console.info("SAS Disk selected disable the 1.5 Gbps speed option."),f(b,"SATA1")):w(b,"SATA1")&&"dell"!==l&&v(b,"SATA1");/(SATA|SSD)/gi.test(a)?(console.info("SATA Disk selected disable controller speeds faster than SATAIII."),f(b,"SAS3"),f(b,"SAS4")):(w(b,"SAS3")||w(b,"SAS4"))&&"dell"!==l&&(v(b,"SAS3"),v(b,"SAS4"))})})();(function(){examples={hpSFF:{title:'HP G5/6/7 2.5" (SFF)',vendorType:"hp",fields:[{formFactor:"SFF",interfaceType:"dualPort",interfaceSpeed:"SATA2/SAS",
diskSpeed:"15K",diskType:"SAS",diskCapacity:"146 GB",diskSerial:"SPARE 512744-001"},{formFactor:"SFF",interfaceType:"dualPort",interfaceSpeed:"SATA3/SAS2",diskSpeed:"7.2K",diskType:"SAS MDL",diskCapacity:"500 GB",diskSerial:"SPARE 508009-001"},{formFactor:"SFF",interfaceType:"singlePort",interfaceSpeed:"SATA3/SAS2",diskSpeed:"7.2K",diskType:"SATA",diskCapacity:"1 TB",diskSerial:"SPARE 123456-789"},{formFactor:"SFF",interfaceType:"singlePort",interfaceSpeed:"",diskSpeed:"",diskType:"SSD",diskCapacity:"400 GB",
diskSerial:"SPARE 690811-002"},{formFactor:"SFF",interfaceType:"dualPort",interfaceSpeed:"SATA2/SAS",diskSpeed:"15K",diskType:"Fibre Channel",diskCapacity:"1 TB",diskSerial:"SPARE 123456-789"},{formFactor:"SFF",interfaceType:"singlePort",interfaceSpeed:"",diskSpeed:"",diskType:"SSD SSNW",diskCapacity:"1 TB",diskSerial:"SPARE 123456-789"}]},hpLFF:{title:'HP G5/6/7 3.5" (LFF)',vendorType:"hp",fields:[{formFactor:"LFF",interfaceType:"dualPort",interfaceSpeed:"SATA2/SAS",diskSpeed:"15K",diskType:"SAS",
diskCapacity:"1 TB",diskSerial:"SPARE 123456-789"},{formFactor:"LFF",interfaceType:"dualPort",interfaceSpeed:"SATA3/SAS2",diskSpeed:"7.2K",diskType:"SAS MDL",diskCapacity:"4 TB",diskSerial:"SPARE 123456-789"},{formFactor:"LFF",interfaceType:"singlePort",interfaceSpeed:"SATA3/SAS2",diskSpeed:"5.4K",diskType:"SATA",diskCapacity:"3 TB",diskSerial:"SPARE 123456-789"},{formFactor:"LFF",interfaceType:"singlePort",interfaceSpeed:"",diskSpeed:"",diskType:"SSD",diskCapacity:"512 GB",diskSerial:"SPARE 123456-789"},
{formFactor:"LFF",interfaceType:"dualPort",interfaceSpeed:"SATA2/SAS",diskSpeed:"15K",diskType:"Fibre Channel",diskCapacity:"1 TB",diskSerial:"SPARE 123456-789"},{formFactor:"LFF",interfaceType:"singlePort",interfaceSpeed:"",diskSpeed:"",diskType:"SSD SSNW",diskCapacity:"1 TB",diskSerial:"SPARE 123456-789"}]},dellSFF:{title:'Dell Gen11/12/13/14 2.5" (SFF)',vendorType:"dell",fields:[{formFactor:"SFF",interfaceType:"",interfaceSpeed:"",diskSpeed:"7.2K",diskType:"SATA",diskCapacity:"512 GB",diskSerial:""},{formFactor:"SFF",
interfaceType:"",interfaceSpeed:"",diskSpeed:"5.4K",diskType:"SATA",diskCapacity:"1 TB",diskSerial:""},{formFactor:"SFF",interfaceType:"",interfaceSpeed:"",diskSpeed:"10K",diskType:"SATA",diskCapacity:"2 TB",diskSerial:""},{formFactor:"SFF",interfaceType:"",interfaceSpeed:"",diskSpeed:"15K",diskType:"SATA",diskCapacity:"146 GB",diskSerial:""},{formFactor:"SFF",interfaceType:"",interfaceSpeed:"",diskSpeed:"",diskType:"SSD",diskCapacity:"256 GB",diskSerial:""},{formFactor:"SFF",interfaceType:"",interfaceSpeed:"",
diskSpeed:"",diskType:"SSD",diskCapacity:"512 GB",diskSerial:""}]},dellLFF:{title:'Dell Gen11/12/13/14 3.5" (LFF)',vendorType:"dell",fields:[{formFactor:"LFF",interfaceType:"",interfaceSpeed:"",diskSpeed:"15K",diskType:"SAS",diskCapacity:"1 TB",diskSerial:""},{formFactor:"LFF",interfaceType:"",interfaceSpeed:"",diskSpeed:"10K",diskType:"SAS",diskCapacity:"2 TB",diskSerial:""},{formFactor:"LFF",interfaceType:"",interfaceSpeed:"",diskSpeed:"7.2K",diskType:"SATA",diskCapacity:"4 TB",diskSerial:""},{formFactor:"LFF",
interfaceType:"",interfaceSpeed:"",diskSpeed:"5.4K",diskType:"SATA",diskCapacity:"8 TB",diskSerial:""},{formFactor:"LFF",interfaceType:"",interfaceSpeed:"",diskSpeed:"",diskType:"SSD",diskCapacity:"512 GB",diskSerial:""},{formFactor:"LFF",interfaceType:"",interfaceSpeed:"",diskSpeed:"",diskType:"SSD",diskCapacity:"1 TB",diskSerial:""}]}};for(ff in examples){l=examples[ff].vendorType;fields=examples[ff].fields;$("table#exampleTable tbody").last().append("<tr><td>"+examples[ff].title+"</td>");for(item in fields)example=
fields[item],u($(this),example.formFactor,example.interfaceType,example.interfaceSpeed,example.diskSpeed,example.diskType,example.diskCapacity,example.diskSerial,"exampleTable",7);$("table#exampleTable tbody").last().append("</tr>")}})()});
